<!DOCTYPE html>
<html lang="az">
<head>
<meta charset="UTF-8">
<title>Meme Generator</title>

<style>
body {
  font-family: Arial;
  background: #222;
  color: white;
  text-align: center;
  padding: 20px;
}

input, button {
  padding: 8px;
  margin: 5px;
}

button {
  background: orange;
  border: none;
  border-radius: 6px;
  cursor: pointer;
}

#memeBox {
  position: relative;
  display: inline-block;
  margin-top: 20px;
}

#memeImg {
  max-width: 350px;
  border-radius: 10px;
}

.text {
  position: absolute;
  width: 100%;
  left: 0;
  font-size: 28px;
  font-weight: bold;
  color: white;
  text-shadow: 2px 2px 4px black;
}

.top { top: 10px; }
.bottom { bottom: 10px; }
</style>
</head>
<body>

<h1>ðŸ˜‚ Meme Yaradan</h1>

<input type="file" id="imgInput"><br>
<input type="text" id="topText" placeholder="Ãœst yazÄ±">
<input type="text" id="bottomText" placeholder="Alt yazÄ±"><br>

<button onclick="createMeme()">TÉ™qdim et</button>
<button onclick="downloadMeme()">YÃ¼klÉ™</button>

<div id="memeBox">
  <img id="memeImg">
  <div class="text top" id="top"></div>
  <div class="text bottom" id="bottom"></div>
</div>

<canvas id="canvas" style="display:none;"></canvas>

<script>
function createMeme() {
  const imgInput = document.getElementById("imgInput");
  const memeImg = document.getElementById("memeImg");

  if (!imgInput.files[0]) {
    alert("ÅžÉ™kil seÃ§!");
    return;
  }

  const reader = new FileReader();
  reader.onload = () => memeImg.src = reader.result;
  reader.readAsDataURL(imgInput.files[0]);

  document.getElementById("top").innerText =
    document.getElementById("topText").value;

  document.getElementById("bottom").innerText =
    document.getElementById("bottomText").value;
}

function downloadMeme() {
  const canvas = document.getElementById("canvas");
  const ctx = canvas.getContext("2d");
  const img = document.getElementById("memeImg");

  canvas.width = img.width;
  canvas.height = img.height;

  ctx.drawImage(img, 0, 0);

  ctx.font = "30px Arial";
  ctx.fillStyle = "white";
  ctx.strokeStyle = "black";
  ctx.lineWidth = 2;
  ctx.textAlign = "center";

  const topText = document.getElementById("topText").value;
  const bottomText = document.getElementById("bottomText").value;

  ctx.strokeText(topText, canvas.width/2, 40);
  ctx.fillText(topText, canvas.width/2, 40);

  ctx.strokeText(bottomText, canvas.width/2, canvas.height - 20);
  ctx.fillText(bottomText, canvas.width/2, canvas.height - 20);

  const link = document.createElement("a");
  link.download = "meme.png";
  link.href = canvas.toDataURL();
  link.click();
}
</script>

</body>
</html>
